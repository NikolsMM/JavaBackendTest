spring:
  datasource:
    url: jdbc:postgresql://localhost:5332/shop  # ğŸ“Œ URL de conexiÃ³n a la base de datos PostgreSQL en Docker
    username: user   # ğŸ“Œ Usuario de la base de datos (debe coincidir con POSTGRES_USER en docker-compose.yml)
    password: password   # ğŸ“Œ ContraseÃ±a del usuario (debe coincidir con POSTGRES_PASSWORD en docker-compose.yml)
  liquibase:
    enabled: true
    change-log: classpath:/db/changelog/db.changelog-master.xml
  jpa:
    hibernate:
      ddl-auto: none  # ğŸ“Œ Crea las tablas al iniciar y las borra al detener la aplicaciÃ³n / none si tengo Liquibase para no tener conflictos
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect  # ğŸ“Œ Dialecto de Hibernate para PostgreSQL
        format_sql: true  # ğŸ“Œ Formatea las consultas SQL para que sean mÃ¡s legibles en la consola
    show-sql: true  # ğŸ“Œ Muestra las consultas SQL en la consola
  main:
    web-application-type: servlet  # ğŸ“Œ Especifica que esta es una aplicaciÃ³n web basada en servlets

# ğŸ”¹ COMANDOS PARA UTILIZAR LA BASE DE DATOS EN POSTGRESQL (Docker)

# 1ï¸âƒ£ Acceder al contenedor de PostgreSQL
# docker exec -it <nombre-del-contenedor> bash
# docker exec -it <nombre-del-contenedor> psql -U user -d shop
# ğŸ“Œ Si no sabes el nombre del contenedor, usa: docker ps

# 2ï¸âƒ£ Acceder a PostgreSQL dentro del contenedor
# psql -U <nombre_de_usuario>
# ğŸ”¹ <nombre_de_usuario> debe ser el mismo que definiste en docker-compose.yml (POSTGRES_USER)

# 3ï¸âƒ£ Ver una lista de bases de datos disponibles
# \l

# 4ï¸âƒ£ Crear una nueva base de datos
# CREATE DATABASE <nombre_de_db>;
# Ejemplo: CREATE DATABASE customer;

# 5ï¸âƒ£ Conectarse a la base de datos reciÃ©n creada
# \c <nombre_de_db>
# Ejemplo: \c customer
# ğŸ“Œ Si la conexiÃ³n es exitosa, verÃ¡s un mensaje como:
# "You are now connected to database 'customer' as user 'user'."

#6 Para crear manualmente cosas en la base de datos:
#/d customer, nos da lo que necesitamos especificar para crear el elemento en la base de datos
#INSERT INTO <nombre_db>(valores necesarios) -> INSERT INTO customer(id, name, email, age)
#VALUES (nextval('customer_id_sequence'), 'Alex, 'alex@gmail.com', 22); -> el id es asi porque lo hemos definido con el sequence generator etc. Mira Customer.java para verlo. El resto son STRING, STRING, INTEGER.
#NO TE OLVIDES DE LOS - ; - SINO NO FUNCIONARÃ
#tendrÃ¡ que salir INSERT 0 1 -> Ã©xito

#select * from <nombre_db> -> seleccionar todos los elementos.